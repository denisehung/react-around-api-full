{"version":3,"sources":["images/logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Login.js","components/Register.js","components/Footer.js","components/PopupWithForm.js","components/AddPlacePopup.js","components/EditAvatarPopup.js","components/EditProfilePopup.js","components/DeleteCardPopup.js","components/ImagePopup.js","components/ProtectedRoute.js","images/success-icon.svg","images/failure-icon.svg","components/InfoTooltip.js","utils/api.js","utils/auth.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","props","className","src","logo","alt","loggedIn","email","to","link","style","color","linkText","CurrentUserContext","React","createContext","Card","currentUser","useContext","isOwn","card","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","onClick","onCardDelete","name","onCardClick","onCardLike","length","Main","onEditAvatarClick","backgroundImage","avatar","type","onEditProfileClick","about","onAddPlaceClick","cards","map","Login","useState","setEmail","password","setPassword","onSubmit","e","preventDefault","handleLogin","placeholder","id","value","onChange","target","required","Register","handleRegister","Footer","PopupWithForm","isOpen","classList","contains","onClose","title","children","btnText","AddPlacePopup","setName","setLink","isLoading","onAddPlaceSubmit","autoComplete","minLength","maxLength","EditAvatarPopup","avatarRef","useRef","onUpdateAvatar","current","ref","EditProfilePopup","description","setDescription","useEffect","onUpdateUser","DeleteCardPopup","ImagePopup","ProtectedRoute","InfoTooltip","isRegistered","SuccessIcon","FailureIcon","api","baseUrl","headers","this","_baseUrl","_headers","res","ok","json","Promise","reject","status","token","fetch","Authorization","then","_checkResponse","method","body","JSON","stringify","cardId","BASE_URL","checkResponse","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isDeleteCardPopupOpen","setIsDeleteCardPopupOpen","setIsLoading","selectedCard","setSelectedCard","setCards","selectedCardDelete","setSelectedCardDelete","setCurrentUser","setLoggedIn","setIsRegistered","isInfoTooltipOpen","setIsInfoTooltipOpen","localStorage","getItem","setToken","history","useHistory","closeAllPopups","onLogout","removeItem","push","closeByEscape","key","document","addEventListener","removeEventListener","data","auth","user","catch","err","console","log","getUserInfo","getInitialCards","Provider","path","component","clickedCard","removeLike","newCard","state","c","addLike","setItem","exact","addCard","finally","setUserAvatar","setUserInfo","removeCard","filter","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.20d0682c.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.4e8e0a1d.svg\";","import React from \"react\";\nimport logo from '../images/logo.svg';\nimport { Link } from 'react-router-dom';\n\nfunction Header(props) {\n  return(\n    <header className=\"header\">\n      <img src={logo}  className=\"logo\" alt=\"logo\" />\n      <div className=\"header__links\">\n        {props.loggedIn && <p className=\"header__email\">{props.email}</p>}\n        <Link className=\"header__link\" to={props.link} style={ props.loggedIn ? { color: '#A9A9A9'} : {}}>{props.linkText}</Link>\n      </div>\n    </header>\n  );\n}\n\nexport default Header;","import React from \"react\";\n\nconst CurrentUserContext = React.createContext();\n\nexport default CurrentUserContext;\n","import React from \"react\";\nimport CurrentUserContext from '../contexts/CurrentUserContext.js';\n\nfunction Card(props) {\n  const currentUser = React.useContext(CurrentUserContext);\n\n  // Check if current user is owner of current card\n  const isOwn = props.card.owner === currentUser?._id;\n\n  // Only display delete button if current user is owner of card\n  const cardDeleteButtonClassName = (\n    `card__delete-button ${isOwn ? 'card__delete-button_visible' : 'card__delete-button_hidden'}`\n  );\n\n  // Check if card was liked by current user\n  const isLiked = props.card.likes?.some(i => i === currentUser?._id);\n\n  // If card is liked, display active heart icon\n  const cardLikeButtonClassName = (\n    `card__heart-icon ${isLiked ? 'card__heart-icon_active' : ''}`\n  )\n\n  function handleClick() {\n    props.onCardClick(props.card);\n  }\n    \n  function handleLike() {\n    props.onCardLike(props.card);\n  }\n\n  function handleDelete() {\n    props.onCardDelete(props.card);\n  }   \n\n  return(\n    <div className=\"card\">\n      <button className={cardDeleteButtonClassName} onClick={handleDelete}></button>\n      <img className=\"card__image\" alt={props.card.name} src={props.card.link} onClick={handleClick} />\n      <div className=\"card__textblock\">\n        <h2 className=\"card__title\">{props.card.name}</h2>\n        <div className=\"card__likes-container\">\n          <button className={cardLikeButtonClassName} onClick={handleLike}></button>\n          <p className=\"card__likes-counter\">{props.card.likes?.length}</p>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Card;","import React from \"react\";\nimport Card from './Card';\n// import Header from './Header'\nimport CurrentUserContext from '../contexts/CurrentUserContext';\n\nfunction Main(props) {\n  const currentUser = React.useContext(CurrentUserContext);\n\n  return(\n    <>\n      <main className=\"content\">\n        <section className=\"profile\">\n          <div className=\"profile__details\">\n            <div className=\"profile__image-container\">\n              <div className=\"profile__image-overlay\" onClick={props.onEditAvatarClick}></div>\n              <div className=\"profile__image\" style={{ backgroundImage: `url(${currentUser.avatar})` }}></div>\n            </div>\n            <div className=\"profile__description\">\n              <div className=\"profile__name-wrapper\">\n                <h1 className=\"profile__name\">{currentUser.name}</h1>\n                <button className=\"profile__edit-button\" type=\"button\" aria-label=\"Edit profile\" onClick={props.onEditProfileClick}></button>\n              </div>\n              <p className=\"profile__about\">{currentUser.about}</p>\n            </div>\n          </div>\n          <button className=\"profile__add-button\" type=\"button\" aria-label=\"Add image\" onClick={props.onAddPlaceClick}></button>\n        </section>\n\n       \n        <section className=\"image-grid\">\n          {props.cards.map(card => (\n            <Card \n              card={card}\n              key={card._id}\n              onCardClick={props.onCardClick}\n              onCardLike={props.onCardLike}\n              onCardDelete={props.onCardDelete}\n            />\n          ))}\n        </section>\n      </main>\n    </>\n  );\n}\n\nexport default Main;","import React from \"react\";\nimport Header from './Header';\nimport { Link } from 'react-router-dom';\n\nfunction Login(props) {\n  const [email, setEmail] = React.useState('');\n  const [password, setPassword] = React.useState('');\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    props.handleLogin(email, password);    \n  }\n\n  return(\n    <>\n    <Header linkText=\"Sign up\" link=\"/signup\"/>\n    <div className=\"form__container\">\n      <h2 className=\"form__title\">Log in</h2>\n      <form className=\"form\" onSubmit={handleSubmit}>\n        <input\n          placeholder=\"Email\"\n          className=\"form__input\"\n          type=\"email\"\n          name=\"email\"\n          id=\"login-email\"\n          value={email}\n          onChange={e => setEmail(e.target.value)}\n          required />\n        <input\n          placeholder=\"Password\"\n          className=\"form__input\"\n          type=\"password\"\n          name=\"password\"\n          id=\"login-password\"\n          value={password}\n          onChange={e => setPassword(e.target.value)}\n          required />\n        <button className=\"form__button\" type=\"submit\" aria-label=\"login\">Log in</button>\n        <Link to=\"/signup\" className=\"form__link\">Not a member yet? Sign up here!</Link> \n      </form>\n    </div>\n\n\n    </>\n  )\n}\n\nexport default Login;","import React from \"react\";\nimport Header from './Header';\nimport { Link } from 'react-router-dom';\n\nfunction Register(props) {\n  const [email, setEmail] = React.useState('');\n  const [password, setPassword] = React.useState('');\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    props.handleRegister(email, password);    \n  }\n  \n  return(\n    <>\n    <Header linkText=\"Log in\" link=\"/signin\"/>\n    <div className=\"form__container\">\n      <h2 className=\"form__title\">Sign up</h2>\n      <form className=\"form\" onSubmit={handleSubmit}>\n        <input\n          placeholder=\"Email\"\n          className=\"form__input\"\n          type=\"email\"\n          name=\"email\"\n          id=\"registration-email\"\n          value={email}\n          onChange={e => setEmail(e.target.value)}\n          required />\n        <input\n          placeholder=\"Password\"\n          className=\"form__input\"\n          type=\"password\"\n          name=\"password\"\n          id=\"registration-password\"\n          value={password}\n          onChange={e => setPassword(e.target.value)}\n          required />\n        <button className=\"form__button\" type=\"submit\" aria-label=\"Sign up\">Sign up</button>\n        <Link to=\"/signin\" className=\"form__link\">Already a member? Log in here!</Link> \n      </form>\n    </div>\n\n\n    </>\n  )\n}\n\nexport default Register;","import React from \"react\";\n\nfunction Footer() {\n  return(\n    <footer className=\"footer\">\n      <p className=\"footer__text\">&copy; 2021 Around The U.S.</p>\n    </footer>\n  );\n}\n\nexport default Footer;","import React from \"react\";\n\nfunction PopupWithForm(props) {\n\n  function handlePopupClick(e) {\n    if (e.target.classList.contains('popup_opened')) {\n      props.onClose();\n    }\n  }\n\n  return(\n    <div className={`popup popup_type_${props.name} ${props.isOpen ? 'popup_opened' : '' }`} onClick={handlePopupClick}>\n      <div className=\"popup__container\">\n        <button className=\"popup__close-button popup__close-button_type_form\" type=\"button\"\n          aria-label=\"Close popup\" onClick={props.onClose}></button>\n        <div className=\"popup__form\">\n          <h2 className=\"popup__container-title\">{props.title}</h2>\n          <form className={`popup__form-main popup__form-main_type_${props.name}`} name={`form-${props.name}`} onSubmit={props.onSubmit}>\n            {props.children}\n            <button className=\"popup__submit-button\" type=\"submit\" aria-label=\"Save changes\">{props.btnText}</button>\n          </form>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default PopupWithForm;","import React from \"react\";\nimport PopupWithForm from './PopupWithForm';\n\nfunction AddPlacePopup(props) {\n  const[name, setName] = React.useState(null);\n  const[link, setLink] = React.useState(null);\n\n  function handleChangeTitle(e) {\n    setName(e.target.value);\n  }\n\n  function handleChangeLink(e) {\n    setLink(e.target.value);\n  }\n    \n  function handleSubmit(e) {\n    e.preventDefault();\n    props.onAddPlaceSubmit({\n      name: name,\n      link: link\n    });\n    setName('');\n    setLink('');\n  } \n\n  return(\n    <PopupWithForm name=\"add-img\" title=\"New Place\" btnText={props.isLoading ? 'Saving...' : 'Create'} isOpen={props.isOpen} onClose={props.onClose} onSubmit={handleSubmit} isLoading={props.isLoading}>\n      <label className=\"popup__form-field\">\n        <input type=\"text\" className=\"popup__input popup__input_type_title\" id=\"title-input\" autoComplete=\"off\" placeholder=\"Title\" name=\"name\" minLength=\"1\" maxLength=\"30\" value={name || ''} onChange={handleChangeTitle} required />\n        <span id=\"title-input-error\" className=\"popup__error\"></span>\n      </label>\n      <label className=\"popup__form-field\">\n        <input type=\"url\" className=\"popup__input popup__input_type_img\" id=\"image-url-input\" autoComplete=\"off\" placeholder=\"Image URL\" name=\"link\" value={link || ''} onChange={handleChangeLink} required />\n        <span id=\"image-url-input-error\" className=\"popup__error\"></span>\n      </label>\n    </PopupWithForm>\n   );\n  }\n\nexport default AddPlacePopup;","import React from \"react\";\nimport PopupWithForm from './PopupWithForm';\n\nfunction EditAvatarPopup(props) {\n  const avatarRef = React.useRef();\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    props.onUpdateAvatar({\n      avatar: avatarRef.current.value /* Input value is obtained by ref */\n    })\n  } \n\n  return(\n    <PopupWithForm name=\"avatar\" title=\"Change profile picture\" btnText={props.isLoading ? 'Saving...' : 'Save'} isOpen={props.isOpen} onClose={props.onClose} onSubmit={handleSubmit} isLoading={props.isLoading}>\n      <label className=\"popup__form-field\">\n        <input type=\"url\" className=\"popup__input popup__input_type_img\" id=\"avatar-url-input\" autoComplete=\"off\" placeholder=\"Image URL\" name=\"link\" ref={avatarRef} required />\n        <span id=\"avatar-url-input-error\" className=\"popup__error\"></span>\n      </label>\n    </PopupWithForm>\n  );\n}\n\nexport default EditAvatarPopup;","import React from \"react\";\nimport PopupWithForm from './PopupWithForm';\nimport CurrentUserContext from '../contexts/CurrentUserContext';\n\nfunction EditProfilePopup(props) {\n  const currentUser = React.useContext(CurrentUserContext);\n  const[name, setName] = React.useState(currentUser.name);\n  const[description, setDescription] = React.useState(currentUser.about);\n\n  React.useEffect(() => {\n    setName(currentUser.name);\n    setDescription(currentUser.about);\n  }, [currentUser, props.isOpen]); \n\n  function handleChangeName(e) {\n    setName(e.target.value);\n  }\n\n  function handleChangeDescription(e) {\n    setDescription(e.target.value);\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    props.onUpdateUser({\n      name: name,\n      about: description\n    });\n  } \n\n  return(\n    <PopupWithForm name=\"edit\" title=\"Edit profile\" btnText={props.isLoading ? 'Saving...' : 'Save changes'} isOpen={props.isOpen} onClose={props.onClose} onSubmit={handleSubmit} isLoading={props.isLoading}>\n      <label className=\"popup__form-field\">\n        <input type=\"text\" className=\"popup__input popup__input_type_name\" id=\"name-input\" autoComplete=\"off\" placeholder=\"Name\" name=\"username\" minLength=\"2\" maxLength=\"40\" value={name || ''} onChange={handleChangeName} required/>\n        <span id=\"name-input-error\" className=\"popup__error\"></span>\n      </label>\n      <label className=\"popup__form-field\">\n        <input type=\"text\" className=\"popup__input popup__input_type_about\" id=\"about-input\" autoComplete=\"off\" placeholder=\"About me\" name=\"userjob\" minLength=\"2\" maxLength=\"200\" value={description || ''} onChange={handleChangeDescription} required />\n        <span id=\"about-input-error\" className=\"popup__error\"></span>\n      </label>\n    </PopupWithForm>\n  );\n}\n\nexport default EditProfilePopup;","import React from \"react\";\nimport PopupWithForm from './PopupWithForm';\n\nfunction DeleteCardPopup(props) {\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    props.onCardDelete(props.card);\n  } \n\n  return(\n    <PopupWithForm name=\"delete\" title=\"Are you sure?\" btnText={props.isLoading ? 'Deleting...' : 'Yes'} isOpen={props.isOpen} onClose={props.onClose} onSubmit={handleSubmit} isLoading={props.isLoading}>\n       \n    </PopupWithForm>\n  );\n}\n\nexport default DeleteCardPopup;","import React from \"react\";\n\n//Only open popup and return corresponding data if props.card (selectedCard) is true\nfunction ImagePopup(props) {\n  function handlePopupClick(e) {\n    if (e.target.classList.contains('popup_opened')) {\n      props.onClose();\n    }\n  }\n\n  return(\n    <div className={`popup popup_type_image ${props.card && 'popup_opened'}`} onClick={handlePopupClick}> \n      <div className=\"popup__wrapper\">\n        <button className=\"popup__close-button popup__close-button_type_image\" type=\"button\"\n          aria-label=\"Close popup\" onClick={props.onClose}></button>\n        <img src={props.card ? props.card.link : null } alt={props.card ? props.card.name : null } className=\"popup__image\" />\n        <figcaption className=\"popup__caption\">{props.card ? props.card.name : ''}</figcaption>\n      </div>\n    </div>\n  );\n}\n\nexport default ImagePopup;","import React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\n\nfunction ProtectedRoute({ children, loggedIn, ...props }) {\n  return (\n    <Route {...props}>\n      {loggedIn ? children : <Redirect to={\"/signin\"} />}\n    </Route>\n  );\n}\n\nexport default ProtectedRoute;","export default __webpack_public_path__ + \"static/media/success-icon.1b6082f8.svg\";","export default __webpack_public_path__ + \"static/media/failure-icon.df8eddf6.svg\";","import React from \"react\";\nimport SuccessIcon from '../images/success-icon.svg';\nimport FailureIcon from '../images/failure-icon.svg';\n\nfunction InfoTooltip(props) {\n\n  function handlePopupClick(e) {\n    if (e.target.classList.contains('popup_opened')) {\n      props.onClose();\n    }\n  }\n\n  return(\n    <div className={`popup popup_type_tooltip ${props.isOpen ? 'popup_opened' : '' }`} onClick={handlePopupClick}>\n      <div className=\"popup__container\">\n        <button className=\"popup__close-button popup__close-button_type_form\" type=\"button\" aria-label=\"Close popup\" onClick={props.onClose}></button>\n        <div className=\"popup__form popup__form_type_tooltip\">\n          <img src={props.isRegistered ? SuccessIcon : FailureIcon} className=\"popup__tooltip-icon\" alt=\"success icon\" />\n          <h2 className=\"popup__tooltip-text\">{props.isRegistered ? 'Success! You have now been registered.' : 'Oops, something went wrong! Please try again.'}</h2>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default InfoTooltip;","class Api {\n  constructor({baseUrl, headers}) {\n    this._baseUrl = baseUrl;\n    this._headers = headers;\n  }\n\n  _checkResponse(res){\n      if (res.ok) {\n          return res.json();\n      }\n      return Promise.reject(`Error: ${res.status}`);    \n  }\n\n  getInitialCards(token) {\n    return fetch(this._baseUrl + '/cards', {\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: `Bearer ${token}`,\n      }\n    })\n    .then((res) => { \n      return this._checkResponse(res);      \n    })\n  }\n\n  getUserInfo(token) {\n    return fetch(this._baseUrl + '/users/me', {\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: `Bearer ${token}`,\n      }\n    })\n    .then((res) => { \n      return this._checkResponse(res);      \n    })\n  }\n\n  setUserInfo({ name, about }, token) {\n    return fetch(this._baseUrl + '/users/me', {\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: `Bearer ${token}`,\n      },\n      method: \"PATCH\",\n      body: JSON.stringify({\n        name,\n        about\n      })\n    })\n    .then((res) => { \n      return this._checkResponse(res);      \n    })\n  };\n  \n\n  addCard({ name, link }, token) {\n    return fetch(this._baseUrl + '/cards', {\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: `Bearer ${token}`,\n      },\n      method: \"POST\",\n      body: JSON.stringify({\n        name,\n        link\n      })\n    })\n    .then((res) => { \n      return this._checkResponse(res);      \n    })\n  };\n\n  removeCard(cardId, token) {\n    return fetch(this._baseUrl + '/cards/' + cardId, {\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: `Bearer ${token}`,\n      },\n      method: \"DELETE\"\n    })\n    .then((res) => { \n      return this._checkResponse(res);      \n    })\n  }\n\n  addLike(cardId, token) {\n    return fetch(this._baseUrl + '/cards/likes/' + cardId, {\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: `Bearer ${token}`,\n      },\n      method: \"PUT\"\n    })\n    .then((res) => { \n      return this._checkResponse(res);      \n    })\n  }\n\n  removeLike(cardId, token) {\n    return fetch(this._baseUrl + '/cards/likes/' + cardId, {\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: `Bearer ${token}`,\n      },\n      method: \"DELETE\"\n    })\n    .then((res) => { \n      return this._checkResponse(res);      \n    })\n  }\n\n  setUserAvatar(avatar, token) {\n    return fetch(this._baseUrl + '/users/me/avatar', {\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: `Bearer ${token}`,\n      },\n      method: \"PATCH\",\n      body: JSON.stringify({\n        avatar\n      })\n    })\n    .then((res) => { \n      return this._checkResponse(res);      \n    })\n  }\n}\n\nconst api = new Api({\n  baseUrl: (process.env.NODE_ENV === \"production\" ? \"https://api.dhung.students.nomoreparties.site\" : \"http://localhost:3000\")\n});\n\nexport default api;\n","// export const BASE_URL = 'https://register.nomoreparties.co';\nexport const BASE_URL = (process.env.NODE_ENV === \"production\" ? \"https://api.dhung.students.nomoreparties.site\" : \"http://localhost:3000\");\n\nfunction checkResponse(res){\n  if (res.ok) {\n      return res.json();\n  }\n  return Promise.reject(`Error: ${res.status}`);    \n}\n\nexport const register = (email, password) => {\n  return fetch(`${BASE_URL}/signup`, {\n    method: 'POST',\n    headers: {\n      'Accept': 'application/json',\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({email, password})\n  })\n  .then((res) => {\n    return checkResponse(res);\n  })\n  .then((res) => {\n    return res;\n  })\n  .catch((err) => console.log(err));\n};\n\nexport const authorize = (email, password) => {\n  return fetch(`${BASE_URL}/signin`, {\n    method: 'POST',\n    headers: {\n      'Accept': 'application/json',\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({email, password})\n  })\n  .then(((res) => {\n    return checkResponse(res);\n  }))\n  .then((data) => {\n    if (data.token){\n      localStorage.setItem('jwt', data.token);\n      console.log(data.token);\n      return data;\n    }\n  })\n  .catch(err => console.log(err))\n};\n\nexport const checkToken = (token) => {\n  return fetch(`${BASE_URL}/users/me`, {\n    method: 'GET',\n    headers: {\n      'Accept': 'application/json',\n      'Content-Type': 'application/json',\n      Authorization: `Bearer ${token}`,\n    }\n  })\n  .then((res) => {\n    return checkResponse(res);\n  })\n  .then(data => data)\n}","import React, { useState, useEffect } from 'react';\nimport { Redirect, Route, Switch, useHistory } from 'react-router-dom';\nimport Header from './Header';\nimport Main from './Main';\nimport Login from './Login'\nimport Register from './Register';\nimport Footer from './Footer';\nimport AddPlacePopup from './AddPlacePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport EditProfilePopup from './EditProfilePopup';\nimport DeleteCardPopup from './DeleteCardPopup';\nimport ImagePopup from './ImagePopup';\nimport ProtectedRoute from './ProtectedRoute';\nimport InfoTooltip from './InfoTooltip';\nimport api from '../utils/api';\nimport CurrentUserContext from '../contexts/CurrentUserContext';\nimport * as auth from '../utils/auth';\n\nfunction App() {\n  \n  const[isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\n  const[isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\n  const[isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\n  const[isDeleteCardPopupOpen, setIsDeleteCardPopupOpen] = useState(false);\n  const[isLoading, setIsLoading] = useState(false);\n  const[selectedCard, setSelectedCard] = useState(null);\n  const[cards, setCards] = useState([]);\n  const[selectedCardDelete, setSelectedCardDelete] = useState(null);\n  const[currentUser, setCurrentUser] = useState({});\n \n  const[loggedIn, setLoggedIn] = useState(false);\n  const[isRegistered, setIsRegistered] = useState(false);\n  const[isInfoTooltipOpen, setIsInfoTooltipOpen] = useState(false);\n  const[email, setEmail] = useState(\"\");\n  const[token, setToken] = useState(localStorage.getItem('jwt'));\n  const history = useHistory();\n\n  // Close popup with Escape button\n  useEffect(() => {\n    const closeByEscape = (e) => {\n      if (e.key === 'Escape') {\n        closeAllPopups();\n      }\n    }\n\n    document.addEventListener('keydown', closeByEscape)\n    \n    return () => document.removeEventListener('keydown', closeByEscape)\n  }, []);\n\n  // Check user token\n  useEffect(() => {\n    if (token) {\n      auth.checkToken(token).then((res) => {\n        setLoggedIn(true);\n        setEmail(res.user.email);\n        history.push(\"/\");   \n      })\n      .catch((err) => console.log(err));\n    }\n  }, [history, token]);\n\n  // Get current user info\n  useEffect(() => {\n      api.getUserInfo(token).then((res) => {\n        setCurrentUser(res.user);\n        console.log('USER',res.user);\n      })\n      .catch((err) => console.log(err));\n  }, [token]);\n\n  // Load cards from database\n  useEffect(() => {\n      api.getInitialCards(token).then((res) => {\n        setCards(res.data);\n        console.log('CARDS',res.data);\n      })\n      .catch(err => console.log(err))\n  }, [token]);\n\n  function handleCardClick(clickedCard) {\n    setSelectedCard(clickedCard);\n  }\n\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(true);\n  }\n\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true);\n  }\n\n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(true);\n  }\n\n  function handleDeleteCardClick(card) {\n    setIsDeleteCardPopupOpen(true);\n    setSelectedCardDelete(card);\n    setIsLoading(false);\n  }\n\n  function closeAllPopups() {\n    setIsEditAvatarPopupOpen(false);\n    setIsEditProfilePopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setIsDeleteCardPopupOpen(false);\n    setIsInfoTooltipOpen(false);\n    setSelectedCardDelete(null);\n    setSelectedCard(null);\n  }\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some(i => i === currentUser._id);    \n        \n    // Send a request to the API and getting the updated card data\n    if(isLiked){\n      api\n        .removeLike(card._id, token)\n        .then((newCard) => {\n          setCards((state) => state.map((c) => c._id === card._id ? newCard : c));\n        })\n        .catch((err) => {console.log(err)});\n      } else {\n        api\n          .addLike(card._id, token)\n          .then((newCard) => {\n            setCards((state) => state.map((c) => c._id === card._id ? newCard : c));\n          })\n          .catch((err) => {console.log(err)});\n        }\n      } \n\n  function handleCardDeleteSubmit(card){\n    setIsLoading(true);\n    api\n      .removeCard(card._id, token)\n      .then(() => {\n        setCards((state) => state.filter((c) => c._id !== card._id));\n        closeAllPopups();\n      })\n      .catch((err) => {console.log(err)})\n      .finally(() => {\n        setIsLoading(false);\n      });\n    }\n\n  function handleUpdateUser({ name, about }){\n    setIsLoading(true);\n    api\n      .setUserInfo({ name, about }, token)\n      .then((res) => {\n        setCurrentUser(res.data);\n        closeAllPopups();\n      })\n      .catch((err) => {console.log(err)})\n      .finally(() => {\n        setIsLoading(false);\n      });\n    }\n\n  function handleUpdateAvatar({avatar}){\n    setIsLoading(true);\n    api\n      .setUserAvatar(avatar, token)\n      .then((res) => {\n        setCurrentUser(res.data);\n        closeAllPopups();\n      })\n      .catch((err) => {console.log(err)})\n      .finally(() => {\n        setIsLoading(false);\n      });\n    }\n\n  function handleAddPlaceSubmit({ name, link }){\n    setIsLoading(true);\n    api\n      .addCard({ name, link }, token)\n      .then((newCard) => {\n        setCards([newCard.data, ...cards]);\n        closeAllPopups();\n      })\n      .catch((err) => {console.log(err)})\n      .finally(() => {\n        setIsLoading(false);\n    });\n  }\n\n  function handleRegister (email, password) {\n    if (!email || !password) {\n      return;\n    }\n    auth\n      .register(email, password)\n      .then((res) => {\n        if (res) {\n          setIsRegistered(true);\n          setIsInfoTooltipOpen(true);\n          history.push('/signin');\n        } else {\n          setIsRegistered(false);\n          setIsInfoTooltipOpen(true);\n        }    \n      })\n      .catch((err) => {console.log(err)})\n    }\n\n  function handleLogin(email, password) {\n    if(!email || !password) {\n      return;\n    }\n    auth\n      .authorize(email, password)\n      .then((data) => {\n        if (data.token) {\n          localStorage.setItem('jwt', data.token);\n          setToken(data.token);\n          setLoggedIn(true);\n          setEmail(email);\n          history.push('/main') \n        }     \n      })\n      .catch((err) => {console.log(err)})\n    }\n\n  function onLogout() {\n    localStorage.removeItem('jwt');\n    setLoggedIn(false);\n    setEmail('');\n    history.push('/login');\n  }\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n\n    <Switch>\n      <ProtectedRoute path=\"/main\" loggedIn={loggedIn}>\n        <Header \n          linkText=\"Log out\" \n          link=\"/signin\"\n          onClick={onLogout}\n          loggedIn={loggedIn}\n          email={email} />\n        <Main \n          onLogout={onLogout}\n          component={Main}\n          onCardClick={handleCardClick}\n          onEditProfileClick={handleEditProfileClick}\n          onAddPlaceClick={handleAddPlaceClick}\n          onEditAvatarClick={handleEditAvatarClick}\n          onCardLike={handleCardLike}\n          onCardDelete={handleDeleteCardClick}\n          onClose={closeAllPopups}\n          cards={cards}\n          email={email}\n        />\n        <Footer />\n      </ProtectedRoute>\n      <Route path=\"/signin\">\n        <Login handleLogin={handleLogin} />\n      </Route>\n      <Route path=\"/signup\">\n      <Register handleRegister={handleRegister} />\n      </Route>\n      <Route exact path=\"/\">\n        {loggedIn ? <Redirect to=\"/main\" /> : <Redirect to=\"/signin\" />}\n      </Route> \n    </Switch>\n\n    <InfoTooltip\n      isOpen={isInfoTooltipOpen}\n      onClose={closeAllPopups} \n      isRegistered={isRegistered}\n    />\n        \n    <AddPlacePopup\n      isLoading={isLoading}\n      isOpen={isAddPlacePopupOpen}\n      onClose={closeAllPopups}\n      onAddPlaceSubmit={handleAddPlaceSubmit}\n    />\n\n    <EditAvatarPopup \n      isLoading={isLoading}\n      isOpen={isEditAvatarPopupOpen}\n      onClose={closeAllPopups}\n      onUpdateAvatar={handleUpdateAvatar}\n    />\n\n    <EditProfilePopup\n      isLoading={isLoading}\n      isOpen={isEditProfilePopupOpen}\n      onClose={closeAllPopups}\n      onUpdateUser={handleUpdateUser}\n    />\n\n    <DeleteCardPopup\n      isLoading={isLoading}\n      isOpen={isDeleteCardPopupOpen}\n      onClose={closeAllPopups}\n      onCardDelete={handleCardDeleteSubmit}\n      card={selectedCardDelete}\n    />\n        \n    <ImagePopup \n      card={selectedCard}\n      onClose={closeAllPopups}\n    />\n    \n    </CurrentUserContext.Provider>\n\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}